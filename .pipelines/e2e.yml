trigger: none
pr: none

resources:
  pipelines:
  - pipeline: e2e
    source: CI
    trigger: true

# Azure DevOps Pipeline running e2e tests
variables:
- template: vars.yml
jobs:
- job: E2E
  timeoutInMinutes: 180
  pool:
    name: ARO-CI
    demands: go-1.17
  steps:
  - template: ./templates/template-checkout.yml

  - script: exit 1
    displayName: Execute Tests

  - task: PublishTestResults@2
    displayName: ðŸ“Š Publish tests results
    inputs:
      testResultsFiles: $(System.DefaultWorkingDirectory)/**/works-as-expected.xml
    condition: succeededOrFailed()
