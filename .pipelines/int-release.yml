# No PR triggers to run it manually

pr: none
trigger: none

stages:
  - stage: Deploy_INT
    displayName: ðŸš€ Deploy INT
    jobs:
      - template: ./templates/template-job-deploy-azure-env.yml
        parameters:
          environment: RP-INT
          location: eastus
          configFileName: int-config.yaml
          azureDevOpsJSONSPN: $(aro-v4-ci-devops-spn)
          vsoProjectID: $(vso-project-id)
          vsoConfigPipelineID: $(vso-config-pipeline-id)
          vsoDeployerPipelineID: $(vso-deployer-pipeline-id)
    - task: TriggerBuild@3
      inputs:
        definitionIsInCurrentTeamProject: true
        buildDefinition: 'Billing - CI'
        queueBuildForUserThatTriggeredBuild: true
        ignoreSslCertificateErrors: false
        useSameSourceVersion: false
        useCustomSourceVersion: false
        useSameBranch: true
        waitForQueuedBuildsToFinish: false
        storeInEnvironmentVariable: false
        authenticationMethod: 'Personal Access Token'
        enableBuildInQueueCondition: false
        dependentOnSuccessfulBuildCondition: false
        dependentOnFailedBuildCondition: false
        checkbuildsoncurrentbranch: false
        failTaskIfConditionsAreNotFulfilled: false